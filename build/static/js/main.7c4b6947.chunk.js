(this["webpackJsonpgoogle-calendar-poc"]=this["webpackJsonpgoogle-calendar-poc"]||[]).push([[0],{19:function(e,t){},20:function(e,t){},21:function(e,t){},23:function(e,t,o){},24:function(e,t,o){"use strict";o.r(t);var i,n=o(2),r=o(6),l=o.n(r),s=o(8),a=o(9),c=o(1),f=o(7),u=o.n(f),p=o(0),g=!1,d="#000000",h=1,k={},b={pan:"pan",drawing:"drawing"};var m=function(e){e.getObjects().forEach((function(t){t!==e.backgroundImage&&e.remove(t)}))},v=function(e,t,o){if(o){var i=e.getObjects();t.value=new c.fabric.Group(i),m(e),e.add(t.value)}else if(t.value){t.value.destroy();var n=t.value.getObjects();e.remove(t.value),e.add.apply(e,Object(a.a)(n)),t.value=null,e.requestRenderAll()}},j=function(e){return function(t){var o=new FileReader,i=t.target.files[0];o.addEventListener("load",(function(){c.fabric.Image.fromURL(o.result,(function(t){e.add(t)}))})),o.readAsDataURL(i)}},w=function(){var e=Object(n.useState)(""),t=Object(s.a)(e,2),o=t[0],r=t[1];return Object(n.useEffect)((function(){r(new c.fabric.Canvas("canvas",{height:500,width:500,selection:!1}))}),[]),Object(n.useEffect)((function(){o&&function(e){e.on("mouse:down",(function(e){g=!0})),e.on("mouse:move",(function(t){i===b.drawing&&(e.setCursor("crosshair"),e.requestRenderAll()),g&&i===b.pan?(e.setCursor("grab"),e.requestRenderAll()):g&&i===b.drawing&&(e.isDrawingMode=!0,e.freeDrawingBrush.color=d,e.freeDrawingBrush.width=h,e.requestRenderAll())})),e.on("mouse:up",(function(e){g=!1}))}(o)}),[o]),Object(p.jsxs)("div",{className:u.a.app,children:[Object(p.jsx)("button",{onClick:function(){return function(e){var t=new c.fabric.Rect({top:100,left:100,width:60,height:70,fill:d,objectCaching:!1});t.on("selected",(function(e){console.log("\u9078\u4e2d\u4e86",e)})),e.add(t),e.requestRenderAll()}(o)},children:"rectangle"}),Object(p.jsx)("button",{onClick:function(){return function(e){var t=new c.fabric.Circle({top:200,left:200,radius:50,fill:d,cornerSize:7,objectCaching:!1});e.add(t),e.requestRenderAll()}(o)},children:"circle"}),Object(p.jsx)("button",{onClick:function(){return function(e){var t=new c.fabric.Triangle({top:400,left:300,width:50,height:70,fill:d,cornerSize:7,objectCaching:!1});e.add(t),e.requestRenderAll()}(o)},children:"triangle"}),Object(p.jsx)("button",{onClick:function(){return function(e,t){c.fabric.Image.fromURL(e,(function(e){t.add(e)}),{top:0,left:0,cornerSize:7}),t.requestRenderAll()}("https://i.imgur.com/MFdYlTH.png",o)},children:"image"}),Object(p.jsx)("button",{onClick:function(){var e;i=i===b[e=b.drawing]?"":b[e]},children:"pencil"}),Object(p.jsx)("input",{type:"color",onChange:function(e){return d=e.target.value}}),Object(p.jsx)("input",{type:"range",min:1,max:20,onChange:function(e){return h=e.target.value}}),Object(p.jsx)("button",{onClick:function(){return m(o)},children:"clear all"}),Object(p.jsx)("button",{onClick:function(){return v(o,k,!0)},children:"group all objects"}),Object(p.jsx)("button",{onClick:function(){return v(o,k,!1)},children:"ungroup"}),Object(p.jsx)("button",{onClick:function(){return function(e){console.log(JSON.stringify(e.toJSON()))}(o)},children:"toJson"}),Object(p.jsx)("button",{onClick:function(){return function(e){var t=JSON.parse('{"version":"4.3.1","objects":[{"type":"circle","version":"4.3.1","originX":"left","originY":"top","left":100,"top":100,"width":40,"height":40,"fill":"rgba(255, 255, 255, 0.0)","stroke":"#000000","strokeWidth":1,"strokeDashArray":null,"strokeLineCap":"butt","strokeDashOffset":0,"strokeLineJoin":"miter","strokeUniform":false,"strokeMiterLimit":4,"scaleX":1,"scaleY":1,"angle":0,"flipX":false,"flipY":false,"opacity":1,"shadow":null,"visible":true,"backgroundColor":"","fillRule":"nonzero","paintFirst":"fill","globalCompositeOperation":"source-over","skewX":0,"skewY":0,"radius":20,"startAngle":0,"endAngle":6.283185307179586},{"type":"text","version":"4.3.1","originX":"left","originY":"top","left":253,"top":102,"width":95.55,"height":18.08,"fill":"#000000","stroke":null,"strokeWidth":1,"strokeDashArray":null,"strokeLineCap":"butt","strokeDashOffset":0,"strokeLineJoin":"miter","strokeUniform":false,"strokeMiterLimit":4,"scaleX":2.43,"scaleY":2.43,"angle":0,"flipX":false,"flipY":false,"opacity":1,"shadow":null,"visible":true,"backgroundColor":"","fillRule":"nonzero","paintFirst":"fill","globalCompositeOperation":"source-over","skewX":0,"skewY":0,"text":"Some text","fontSize":16,"fontWeight":"normal","fontFamily":"Arial","fontStyle":"normal","lineHeight":1.16,"underline":false,"overline":false,"linethrough":false,"textAlign":"left","textBackgroundColor":"","charSpacing":0,"minWidth":20,"splitByGrapheme":false,"styles":{}},{"type":"rect","version":"4.3.1","originX":"left","originY":"top","left":109,"top":212,"width":40,"height":40,"fill":"rgba(255, 255, 255, 0.0)","stroke":"#000000","strokeWidth":1,"strokeDashArray":null,"strokeLineCap":"butt","strokeDashOffset":0,"strokeLineJoin":"miter","strokeUniform":false,"strokeMiterLimit":4,"scaleX":1,"scaleY":1,"angle":0,"flipX":false,"flipY":false,"opacity":1,"shadow":null,"visible":true,"backgroundColor":"","fillRule":"nonzero","paintFirst":"fill","globalCompositeOperation":"source-over","skewX":0,"skewY":0,"rx":0,"ry":0},{"type":"image","version":"4.3.1","originX":"left","originY":"top","left":499,"top":86,"width":1200,"height":900,"fill":"rgb(0,0,0)","stroke":null,"strokeWidth":0,"strokeDashArray":null,"strokeLineCap":"butt","strokeDashOffset":0,"strokeLineJoin":"miter","strokeUniform":false,"strokeMiterLimit":4,"scaleX":0.2,"scaleY":0.2,"angle":0,"flipX":false,"flipY":false,"opacity":1,"shadow":null,"visible":true,"backgroundColor":"","fillRule":"nonzero","paintFirst":"fill","globalCompositeOperation":"source-over","skewX":0,"skewY":0,"cropX":0,"cropY":0,"src":"https://miro.medium.com/max/1200/1*mk1-6aYaf_Bes1E3Imhc0A.jpeg","crossOrigin":null,"filters":[]},{"type":"polyline","version":"4.3.1","originX":"left","originY":"top","left":483.78,"top":339.22,"width":50.88,"height":50.88,"fill":"white","stroke":"black","strokeWidth":2,"strokeDashArray":null,"strokeLineCap":"butt","strokeDashOffset":0,"strokeLineJoin":"miter","strokeUniform":false,"strokeMiterLimit":4,"scaleX":1,"scaleY":1,"angle":262.52,"flipX":false,"flipY":false,"opacity":1,"shadow":null,"visible":true,"backgroundColor":"","fillRule":"nonzero","paintFirst":"fill","globalCompositeOperation":"source-over","skewX":0,"skewY":0,"points":[{"x":100,"y":100},{"x":99.11611652351681,"y":100.88388347648318},{"x":145.58058261758407,"y":147.34834957055045},{"x":142.92893218813452,"y":150},{"x":150,"y":150},{"x":150,"y":142.92893218813452},{"x":147.34834957055045,"y":145.58058261758407},{"x":100.88388347648318,"y":99.11611652351681},{"x":100,"y":100}]},{"type":"image","version":"4.3.1","originX":"left","originY":"top","left":197,"top":132,"width":1200,"height":900,"fill":"rgb(0,0,0)","stroke":null,"strokeWidth":0,"strokeDashArray":null,"strokeLineCap":"butt","strokeDashOffset":0,"strokeLineJoin":"miter","strokeUniform":false,"strokeMiterLimit":4,"scaleX":0.2,"scaleY":0.2,"angle":0,"flipX":false,"flipY":false,"opacity":1,"shadow":null,"visible":true,"backgroundColor":"","fillRule":"nonzero","paintFirst":"fill","globalCompositeOperation":"source-over","skewX":0,"skewY":0,"cropX":0,"cropY":0,"src":"https://miro.medium.com/max/1200/1*mk1-6aYaf_Bes1E3Imhc0A.jpeg","crossOrigin":null,"filters":[]}]}');e.loadFromJSON(t),e.requestRenderAll()}(o)},children:"fromJson"}),Object(p.jsx)("input",{type:"file",accept:"image/*",onChange:j(o)}),Object(p.jsx)("canvas",{id:"canvas"})]})};o(23);l.a.render(Object(p.jsx)(w,{}),document.getElementById("root"))},7:function(e,t,o){e.exports={app:"app_app__3mk8F",canvas:"app_canvas__1LfB-"}}},[[24,1,2]]]);
//# sourceMappingURL=main.7c4b6947.chunk.js.map