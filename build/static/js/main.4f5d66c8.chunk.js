(this["webpackJsonpgoogle-calendar-poc"]=this["webpackJsonpgoogle-calendar-poc"]||[]).push([[0],[,,,,,function(e,t,r){e.exports={app:"app_app__3mk8F",canvas:"app_canvas__1LfB-"}},,,,,,,,,,,,function(e,t){},function(e,t){},function(e,t){},function(e,t){!function(){var e=fabric.StaticCanvas.prototype.__setBgOverlayColor,t=fabric.StaticCanvas.prototype.__setBgOverlay;fabric.util.object.extend(fabric.StaticCanvas.prototype,{backgroundColor:void 0,overlayColor:void 0,__setBgOverlayColor:function(t,r,i,a){var o=this,n=function(){o[t]=new fabric.Rect(fabric.util.object.extend({width:o.width,height:o.height,fill:o[t]},a)),i&&i(o[t])};return e.call(this,t,r,n),!r||!r.colorStops||r instanceof fabric.Gradient||n(),this},__setBgOverlay:function(e,r,i,a){var o=this;"backgroundColor"!==e&&"overlayColor"!==e||!r||"object"!==typeof r||"rect"!==r.type?t.call(this,e,r,i,a):fabric.util.enlivenObjects([r],(function(t){o[e]=t[0],i[e]=!0,a&&a()}))},_renderBackgroundOrOverlay:function(e,t){var r=this[t+"Color"],i=this[t+"Image"],a=this.viewportTransform,o=this[t+"Vpt"];(r||i)&&(r||i)&&(e.save(),o&&e.transform(a[0],a[1],a[2],a[3],a[4],a[5]),r&&r.render(e),i&&i.render(e),e.restore())}});var r=fabric.Object.prototype.toObject;fabric.util.object.extend(fabric.Object.prototype,{erasable:!0,getEraser:function(){return this.clipPath&&this.clipPath.eraser?this.clipPath:null},toObject:function(e){return r.call(this,["erasable"].concat(e))}});var i=fabric.Group.prototype.toObject;fabric.util.object.extend(fabric.Group.prototype,{toObject:function(e){return i.call(this,["eraser"].concat(e))}}),fabric.util.object.extend(fabric.Canvas.prototype,{isErasing:function(){return this.isDrawingMode&&this.freeDrawingBrush&&"eraser"===this.freeDrawingBrush.type&&this.freeDrawingBrush._isErasing},renderAll:function(){if(!this.contextTopDirty||this._groupSelector||this.isDrawingMode||(this.clearContext(this.contextTop),this.contextTopDirty=!1),!this.isErasing()){this.hasLostContext&&this.renderTopLayer(this.contextTop);var e=this.contextContainer;return this.renderCanvas(e,this._chooseObjectsToRender()),this}this.freeDrawingBrush._render()}}),fabric.EraserBrush=fabric.util.createClass(fabric.PencilBrush,{type:"eraser",_ready:!1,_drawOverlayOnTop:!1,_isErasing:!1,initialize:function(e){this.callSuper("initialize",e),this._renderBound=this._render.bind(this),this.render=this.render.bind(this)},forCanvasDrawables:function(e){e.call(this,"background","backgroundImage","setBackgroundImage","backgroundColor","setBackgroundColor"),e.call(this,"overlay","overlayImage","setOverlayImage","overlayColor","setOverlayColor")},hideObject:function(e){e&&(e._originalOpacity=e.opacity,e.set({opacity:0}))},restoreObjectVisibility:function(e){e&&e._originalOpacity&&(e.set({opacity:e._originalOpacity}),e._originalOpacity=void 0)},prepareCanvasBackgroundForLayer:function(e){if("overlay"!==e){var t=this.canvas,r=t.get("backgroundImage"),i=t.get("backgroundColor"),a="top"===e;r&&r.erasable===!a&&this.hideObject(r),i&&i.erasable===!a&&this.hideObject(i)}},prepareCanvasOverlayForLayer:function(e){var t=this.canvas,r=t.get("overlayImage"),i=t.get("overlayColor");if("bottom"===e)return this.hideObject(r),this.hideObject(i),!1;var a="top"===e,o=r&&!r.erasable||i&&!i.erasable;return r&&r.erasable===!a&&this.hideObject(r),i&&i.erasable===!a&&this.hideObject(i),o},restoreCanvasDrawables:function(){var e=this.canvas;this.restoreObjectVisibility(e.get("backgroundImage")),this.restoreObjectVisibility(e.get("backgroundColor")),this.restoreObjectVisibility(e.get("overlayImage")),this.restoreObjectVisibility(e.get("overlayColor"))},prepareCollectionTraversal:function(e){var t=this;e.forEachObject((function(e){e.forEachObject?t.prepareCollectionTraversal(e):e.erasable&&t.hideObject(e)}))},restoreCollectionTraversal:function(e){var t=this;e.forEachObject((function(e){e.forEachObject?t.restoreCollectionTraversal(e):t.restoreObjectVisibility(e)}))},prepareCanvasObjectsForLayer:function(e){"bottom"===e&&this.prepareCollectionTraversal(this.canvas)},restoreCanvasObjectsFromLayer:function(e){"bottom"===e&&this.restoreCollectionTraversal(this.canvas)},prepareCanvasForLayer:function(e){return this.prepareCanvasBackgroundForLayer(e),this.prepareCanvasObjectsForLayer(e),this.prepareCanvasOverlayForLayer(e)},restoreCanvasFromLayer:function(e){this.restoreCanvasDrawables(),this.restoreCanvasObjectsFromLayer(e)},renderBottomLayer:function(){var e=this.canvas;this.prepareCanvasForLayer("bottom"),e.renderCanvas(e.getContext(),e.getObjects().filter((function(e){return!e.erasable||e.isType("group")}))),this.restoreCanvasFromLayer("bottom")},renderTopLayer:function(){var e=this.canvas;this._drawOverlayOnTop=this.prepareCanvasForLayer("top"),e.renderCanvas(e.contextTop,e.getObjects()),this.callSuper("_render"),this.restoreCanvasFromLayer("top")},renderOverlay:function(){this.prepareCanvasForLayer("overlay");var e=this.canvas,t=e.contextTop;this._saveAndTransform(t),e._renderOverlay(t),t.restore(),this.restoreCanvasFromLayer("overlay")},_saveAndTransform:function(e){this.callSuper("_saveAndTransform",e),e.globalCompositeOperation="destination-out"},needsFullRender:function(){return this.callSuper("needsFullRender")||this._drawOverlayOnTop},onMouseDown:function(e,t){this.canvas._isMainEvent(t.e)&&(this._prepareForDrawing(e),this._captureDrawingPath(e),this._isErasing=!0,this.canvas.fire("erasing:start"),this._ready=!0,this._render())},_render:function(){this._ready&&(this.isRendering=1,this.renderBottomLayer(),this.renderTopLayer(),this.renderOverlay(),this.isRendering=0)},render:function(){return!!this._isErasing&&(this.isRendering?this.isRendering=fabric.util.requestAnimFrame(this._renderBound):this._render(),!0)},_addPathToObjectEraser:function(e,t){var r,i=this;if(e.forEachObject)e.forEachObject((function(e){e.erasable&&i._addPathToObjectEraser(e,t)}));else{if(e.getEraser())r=e.clipPath;else{var a=[new fabric.Rect({width:e.width,height:e.height,clipPath:e.clipPath,originX:"center",originY:"center"})];r=new fabric.Group(a,{boundingObjects:a,eraser:!0})}t.clone((function(t){t.globalCompositeOperation="destination-out";var i=fabric.util.multiplyTransformMatrices(fabric.util.invertTransform(e.calcTransformMatrix()),t.calcTransformMatrix());fabric.util.applyTransformToObject(t,i),r.addWithUpdate(t),e.set({clipPath:r,dirty:!0})}))}},applyEraserToCanvas:function(e){var t=this.canvas;this.forCanvasDrawables((function(r,i,a,o){var n=t.get(i),s=t.get(o);n&&n.erasable&&this._addPathToObjectEraser(n,e),s&&s.erasable&&this._addPathToObjectEraser(s,e)}))},_finalizeAndAddPath:function(){var e=this.canvas.contextTop,t=this.canvas;e.closePath(),this.decimate&&(this._points=this.decimatePoints(this._points,this.decimate)),t.clearContext(t.contextTop),this._isErasing=!1;var r=this._points&&this._points.length>1?this.convertPointsToSVGPath(this._points).join(""):"M 0 0 Q 0 0 0 0 L 0 0";if("M 0 0 Q 0 0 0 0 L 0 0"===r)return t.fire("erasing:end"),void t.requestRenderAll();var i=this.createPath(r);t.fire("before:path:created",{path:i}),this.applyEraserToCanvas(i);var a=this;t.forEachObject((function(e){e.erasable&&e.intersectsWithObject(i)&&a._addPathToObjectEraser(e,i)})),t.fire("erasing:end"),t.requestRenderAll(),i.setCoords(),this._resetShadow(),t.fire("path:created",{path:i})}})}()},,function(e,t,r){},function(e,t,r){"use strict";r.r(t);r(2);var i=r(6),a=r.n(i),o=r(7),n=r(1),s=(r(20),r(4)),l=r(5),c=r.n(l),u=r(0),h={currentMode:"",currentColor:"#000000",currentWidth:5,group:{}},f=function(e){e.getObjects().forEach((function(t){t!==e.backgroundImage&&e.remove(t)}))},p=function(e,t,r){if(r){var i=e.getObjects();t.group.value=new n.fabric.Group(i),f(e),e.add(t.group.value)}else if(t.group.value){t.group.value.destroy();var a=t.group.value.getObjects();e.remove(t.group.value),e.add.apply(e,Object(o.a)(a)),t.group.value=null,e.requestRenderAll()}},d=function(){var e=Object(s.b)(),t=e.editor,r=e.onReady;return Object(u.jsxs)("div",{className:c.a.app,children:[Object(u.jsx)("button",{onClick:function(){return function(e,t){var r=new n.fabric.Rect({top:100,left:100,width:60,height:70,fill:t.currentColor,objectCaching:!1,erasable:!0});r.on("selected",(function(e){console.log("\u9078\u4e2d\u4e86",e)})),e.add(r),e.requestRenderAll()}(t.canvas,h)},children:"rectangle"}),Object(u.jsx)("button",{onClick:function(){return function(e,t){var r=new n.fabric.Circle({top:200,left:200,radius:50,fill:t.currentColor,cornerSize:7,objectCaching:!1});e.add(r),e.requestRenderAll()}(t.canvas,h)},children:"circle"}),Object(u.jsx)("button",{onClick:function(){return function(e,t){e.isDrawingMode=!1;var r=new n.fabric.Triangle({top:400,left:300,width:50,height:70,fill:t.currentColor,cornerSize:7,objectCaching:!1});e.add(r),e.requestRenderAll()}(t.canvas,h)},children:"triangle"}),Object(u.jsx)("button",{onClick:function(){return e="https://i.imgur.com/MFdYlTH.png",r=t.canvas,n.fabric.Image.fromURL(e,(function(e){r.add(e)}),{top:0,left:0,cornerSize:7}),void r.requestRenderAll();var e,r},children:"image"}),Object(u.jsx)("button",{onClick:function(){return(e=t.canvas).freeDrawingBrush=new n.fabric.PencilBrush(e),e.freeDrawingBrush.width=10,void(e.isDrawingMode=!0);var e},children:"pencil"}),Object(u.jsx)("button",{onClick:function(){return(e=t.canvas).freeDrawingBrush=new n.fabric.EraserBrush(e),e.freeDrawingBrush.width=h.currentWidth,void(e.isDrawingMode=!0);var e},children:"eraser"}),Object(u.jsx)("button",{onClick:function(){return function(e){e.isDrawingMode=!1;var t=new n.fabric.Textbox("text",{left:100,top:100,fill:h.currentColor,editable:!0});e.add(t),e.renderAll()}(t.canvas)},children:"text"}),Object(u.jsx)("input",{type:"color",onChange:function(e){h.currentColor=e.target.value,t.canvas.freeDrawingBrush.color=e.target.value}}),Object(u.jsx)("input",{type:"range",min:1,max:20,onChange:function(e){h.currentWidth=e.target.value,t.canvas.freeDrawingBrush.width=parseInt(e.target.value)}}),Object(u.jsx)("button",{onClick:function(){return f(t.canvas)},children:"clear all"}),Object(u.jsx)("button",{onClick:function(){return p(t.canvas,h,!0)},children:"group all objects"}),Object(u.jsx)("button",{onClick:function(){return p(t.canvas,h,!1)},children:"ungroup"}),Object(u.jsx)("button",{onClick:function(){return e=t.canvas,void console.log(JSON.stringify(e.toJSON()));var e},children:"toJson"}),Object(u.jsx)("button",{onClick:function(){return function(e){var t=JSON.parse('{"version":"4.3.1","objects":[{"type":"circle","version":"4.3.1","originX":"left","originY":"top","left":100,"top":100,"width":40,"height":40,"fill":"rgba(255, 255, 255, 0.0)","stroke":"#000000","strokeWidth":1,"strokeDashArray":null,"strokeLineCap":"butt","strokeDashOffset":0,"strokeLineJoin":"miter","strokeUniform":false,"strokeMiterLimit":4,"scaleX":1,"scaleY":1,"angle":0,"flipX":false,"flipY":false,"opacity":1,"shadow":null,"visible":true,"backgroundColor":"","fillRule":"nonzero","paintFirst":"fill","globalCompositeOperation":"source-over","skewX":0,"skewY":0,"radius":20,"startAngle":0,"endAngle":6.283185307179586},{"type":"text","version":"4.3.1","originX":"left","originY":"top","left":253,"top":102,"width":95.55,"height":18.08,"fill":"#000000","stroke":null,"strokeWidth":1,"strokeDashArray":null,"strokeLineCap":"butt","strokeDashOffset":0,"strokeLineJoin":"miter","strokeUniform":false,"strokeMiterLimit":4,"scaleX":2.43,"scaleY":2.43,"angle":0,"flipX":false,"flipY":false,"opacity":1,"shadow":null,"visible":true,"backgroundColor":"","fillRule":"nonzero","paintFirst":"fill","globalCompositeOperation":"source-over","skewX":0,"skewY":0,"text":"Some text","fontSize":16,"fontWeight":"normal","fontFamily":"Arial","fontStyle":"normal","lineHeight":1.16,"underline":false,"overline":false,"linethrough":false,"textAlign":"left","textBackgroundColor":"","charSpacing":0,"minWidth":20,"splitByGrapheme":false,"styles":{}},{"type":"rect","version":"4.3.1","originX":"left","originY":"top","left":109,"top":212,"width":40,"height":40,"fill":"rgba(255, 255, 255, 0.0)","stroke":"#000000","strokeWidth":1,"strokeDashArray":null,"strokeLineCap":"butt","strokeDashOffset":0,"strokeLineJoin":"miter","strokeUniform":false,"strokeMiterLimit":4,"scaleX":1,"scaleY":1,"angle":0,"flipX":false,"flipY":false,"opacity":1,"shadow":null,"visible":true,"backgroundColor":"","fillRule":"nonzero","paintFirst":"fill","globalCompositeOperation":"source-over","skewX":0,"skewY":0,"rx":0,"ry":0},{"type":"image","version":"4.3.1","originX":"left","originY":"top","left":499,"top":86,"width":1200,"height":900,"fill":"rgb(0,0,0)","stroke":null,"strokeWidth":0,"strokeDashArray":null,"strokeLineCap":"butt","strokeDashOffset":0,"strokeLineJoin":"miter","strokeUniform":false,"strokeMiterLimit":4,"scaleX":0.2,"scaleY":0.2,"angle":0,"flipX":false,"flipY":false,"opacity":1,"shadow":null,"visible":true,"backgroundColor":"","fillRule":"nonzero","paintFirst":"fill","globalCompositeOperation":"source-over","skewX":0,"skewY":0,"cropX":0,"cropY":0,"src":"https://miro.medium.com/max/1200/1*mk1-6aYaf_Bes1E3Imhc0A.jpeg","crossOrigin":null,"filters":[]},{"type":"polyline","version":"4.3.1","originX":"left","originY":"top","left":483.78,"top":339.22,"width":50.88,"height":50.88,"fill":"white","stroke":"black","strokeWidth":2,"strokeDashArray":null,"strokeLineCap":"butt","strokeDashOffset":0,"strokeLineJoin":"miter","strokeUniform":false,"strokeMiterLimit":4,"scaleX":1,"scaleY":1,"angle":262.52,"flipX":false,"flipY":false,"opacity":1,"shadow":null,"visible":true,"backgroundColor":"","fillRule":"nonzero","paintFirst":"fill","globalCompositeOperation":"source-over","skewX":0,"skewY":0,"points":[{"x":100,"y":100},{"x":99.11611652351681,"y":100.88388347648318},{"x":145.58058261758407,"y":147.34834957055045},{"x":142.92893218813452,"y":150},{"x":150,"y":150},{"x":150,"y":142.92893218813452},{"x":147.34834957055045,"y":145.58058261758407},{"x":100.88388347648318,"y":99.11611652351681},{"x":100,"y":100}]},{"type":"image","version":"4.3.1","originX":"left","originY":"top","left":197,"top":132,"width":1200,"height":900,"fill":"rgb(0,0,0)","stroke":null,"strokeWidth":0,"strokeDashArray":null,"strokeLineCap":"butt","strokeDashOffset":0,"strokeLineJoin":"miter","strokeUniform":false,"strokeMiterLimit":4,"scaleX":0.2,"scaleY":0.2,"angle":0,"flipX":false,"flipY":false,"opacity":1,"shadow":null,"visible":true,"backgroundColor":"","fillRule":"nonzero","paintFirst":"fill","globalCompositeOperation":"source-over","skewX":0,"skewY":0,"cropX":0,"cropY":0,"src":"https://miro.medium.com/max/1200/1*mk1-6aYaf_Bes1E3Imhc0A.jpeg","crossOrigin":null,"filters":[]}]}');e.loadFromJSON(t),e.requestRenderAll()}(t.canvas)},children:"fromJson"}),Object(u.jsx)("input",{type:"file",accept:"image/*",onChange:function(e){var r=new FileReader,i=e.target.files[0];r.addEventListener("load",(function(){n.fabric.Image.fromURL(r.result,(function(e){t.canvas.add(e)}))})),r.readAsDataURL(i)}}),Object(u.jsx)(s.a,{className:c.a.canvas,onReady:r})]})};r(22);a.a.render(Object(u.jsx)(d,{}),document.getElementById("root"))}],[[23,1,2]]]);
//# sourceMappingURL=main.4f5d66c8.chunk.js.map