(this["webpackJsonpgoogle-calendar-poc"]=this["webpackJsonpgoogle-calendar-poc"]||[]).push([[0],{19:function(e,n){},20:function(e,n){},21:function(e,n){},23:function(e,n,t){},24:function(e,n,t){"use strict";t.r(n);var c,r=t(2),o=t(6),i=t.n(o),a=t(8),u=t(9),l=t(1),s=t(7),f=t.n(s),d=t(0),b=!1,p="#000000",j=1,g={};var h=function(e){e.getObjects().forEach((function(n){n!==e.backgroundImage&&e.remove(n)}))},v=function(e,n,t){if(t){var c=e.getObjects();n.value=new l.fabric.Group(c),h(e),e.add(n.value)}else if(n.value){n.value.destroy();var r=n.value.getObjects();e.remove(n.value),e.add.apply(e,Object(u.a)(r)),n.value=null,e.requestRenderAll()}},O=function(e){return function(n){var t=new FileReader,c=n.target.files[0];t.addEventListener("load",(function(){l.fabric.Image.fromURL(t.result,(function(n){e.add(n)}))})),t.readAsDataURL(c)}},m=function(){var e=Object(r.useState)(""),n=Object(a.a)(e,2),t=n[0],o=n[1];return Object(r.useEffect)((function(){o(new l.fabric.Canvas("canvas",{height:500,width:500,selection:!1}))}),[]),Object(r.useEffect)((function(){t&&function(e){e.on("mouse:down",(function(n){b=!0,"pencil"===c&&(e.setCursor("crosshair"),e.requestRenderAll())})),e.on("mouse:move",(function(n){b&&"pencil"===c&&(e.isDrawingMode=!0,e.freeDrawingBrush.color=p,e.freeDrawingBrush.width=j,e.requestRenderAll())})),e.on("mouse:up",(function(n){b=!1,e.setCursor("default"),e.requestRenderAll()}))}(t)}),[t]),Object(d.jsxs)("div",{className:f.a.app,children:[Object(d.jsx)("button",{onClick:function(){return function(e){var n=new l.fabric.Rect({top:100,left:100,width:60,height:70,fill:p,objectCaching:!1});n.on("selected",(function(e){console.log("\u9078\u4e2d\u4e86",e)})),e.add(n),e.requestRenderAll()}(t)},children:"rectangle"}),Object(d.jsx)("button",{onClick:function(){return function(e){var n=new l.fabric.Circle({top:200,left:200,radius:50,fill:p,cornerSize:7,objectCaching:!1});e.add(n),e.requestRenderAll()}(t)},children:"circle"}),Object(d.jsx)("button",{onClick:function(){return function(e){var n=new l.fabric.Triangle({top:400,left:300,width:50,height:70,fill:p,cornerSize:7,objectCaching:!1});e.add(n),e.requestRenderAll()}(t)},children:"triangle"}),Object(d.jsx)("button",{onClick:function(){return function(e,n){l.fabric.Image.fromURL(e,(function(e){n.add(e)}),{top:0,left:0,cornerSize:7}),n.requestRenderAll()}("https://i.imgur.com/MFdYlTH.png",t)},children:"image"}),Object(d.jsx)("button",{onClick:function(){c="pencil"},children:"pencil"}),Object(d.jsx)("input",{type:"color",onChange:function(e){return p=e.target.value}}),Object(d.jsx)("input",{type:"range",min:1,max:20,onChange:function(e){return j=e.target.value}}),Object(d.jsx)("button",{onClick:function(){return h(t)},children:"clear all"}),Object(d.jsx)("button",{onClick:function(){return v(t,g,!0)},children:"group all objects"}),Object(d.jsx)("button",{onClick:function(){return v(t,g,!1)},children:"ungroup"}),Object(d.jsx)("input",{type:"file",accept:"image/*",onChange:O(t)}),Object(d.jsx)("canvas",{id:"canvas"})]})};t(23);i.a.render(Object(d.jsx)(m,{}),document.getElementById("root"))},7:function(e,n,t){e.exports={app:"app_app__3mk8F",canvas:"app_canvas__1LfB-"}}},[[24,1,2]]]);
//# sourceMappingURL=main.f036e492.chunk.js.map